# ==========================================
# RANKMATH-STYLE SEO + URL MANAGEMENT
# ==========================================

publish_mode: editorial_workflow

backend:
  name: github
  repo: Ganesh239239/techfynews
  branch: main
  base_url: https://techfynews.pages.dev
  auth_endpoint: /api/auth
  commit_messages:
    create: 'Create {{collection}} "{{slug}}"'
    update: 'Update {{collection}} "{{slug}}"'
    delete: 'Delete {{collection}} "{{slug}}"'
    uploadMedia: 'Upload "{{path}}"'
    deleteMedia: 'Delete "{{path}}"'

media_folder: "src/assets/images/{{year}}/{{month}}"
public_folder: "/src/assets/images/{{year}}/{{month}}"

editor:
  preview: true

site_url: https://techfynews.pages.dev
display_url: https://techfynews.pages.dev

collections:
  # ==========================================
  # BLOG POSTS - RANKMATH STYLE
  # ==========================================
  - name: "blog"
    label: "üìù Blog Posts"
    folder: "src/content/blog"
    create: true
    slug: "{{fields.slug}}"  # Use custom slug field
    preview_path: "blog/{{fields.slug}}"
    
    sortable_fields: ['publishDate', 'title', 'author']
    sort_direction: 'Descending'
    summary: "{{title}} ‚Ä¢ {{publishDate | date('MMM DD, YYYY')}}"
    
    view_filters:
      - label: "üìù Drafts"
        field: draft
        pattern: true
      - label: "‚úÖ Published"
        field: draft
        pattern: false
      - label: "‚≠ê Featured"
        field: featured
        pattern: true
    
    view_groups:
      - label: "Year"
        field: publishDate
        pattern: d{4}
      - label: "Category"
        field: category
    
    fields:
      # ==========================================
      # BASIC CONTENT
      # ==========================================
      - label: "üìå Title"
        name: "title"
        widget: "string"
        required: true
        hint: "Post title (50-60 characters for SEO)"
        
      - label: "üîó URL Slug (Permalink)"
        name: "slug"
        widget: "string"
        required: true
        hint: "URL-friendly version (e.g., 'my-awesome-post')"
        pattern: ['^[a-z0-9]+(?:-[a-z0-9]+)*$', "Only lowercase letters, numbers, and hyphens"]
        
      - label: "üìÑ Excerpt"
        name: "excerpt"
        widget: "text"
        required: true
        hint: "Short description (155-160 characters)"
        pattern: ['.{50,160}', "Must be 50-160 characters"]
        
      - label: "üìÖ Publish Date"
        name: "publishDate"
        widget: "datetime"
        required: true
        default: ""
        date_format: "YYYY-MM-DD"
        time_format: false
        format: "YYYY-MM-DD"
        
      - label: "üîÑ Updated Date"
        name: "updatedDate"
        widget: "datetime"
        required: false
        date_format: "YYYY-MM-DD"
        hint: "Last modified date"
        
      - label: "üñºÔ∏è Featured Image"
        name: "image"
        widget: "object"
        required: true
        fields:
          - label: "Image File"
            name: "src"
            widget: "image"
            required: true
            hint: "Recommended: 1200x630px"
          - label: "Alt Text (SEO Important)"
            name: "alt"
            widget: "string"
            required: true
            hint: "Describe image - used for accessibility & SEO"
        
      - label: "üìÇ Category"
        name: "category"
        widget: "relation"
        collection: "categories"
        search_fields: ["name"]
        value_field: "name"
        display_fields: ["name"]
        required: true
        
      - label: "‚úçÔ∏è Author"
        name: "author"
        widget: "relation"
        collection: "authors"
        search_fields: ["name"]
        value_field: "name"
        display_fields: ["name"]
        required: true
        
      - label: "üè∑Ô∏è Tags"
        name: "tags"
        widget: "list"
        required: true
        min: 1
        max: 10
        hint: "Add relevant tags for SEO"
        
      - label: "üìù Draft"
        name: "draft"
        widget: "boolean"
        default: false
        
      - label: "‚≠ê Featured"
        name: "featured"
        widget: "boolean"
        default: false
        
      - label: "üìö Series"
        name: "series"
        widget: "string"
        required: false
        hint: "Group related posts"
        
      - label: "üìù Content"
        name: "body"
        widget: "markdown"
        required: true
        
      # ==========================================
      # RANKMATH SEO SETTINGS
      # ==========================================
      - label: "üéØ RankMath SEO"
        name: "rankmath"
        widget: "object"
        collapsed: false
        summary: "SEO Score: {{fields.focusKeyword}}"
        fields:
          # Focus Keyword Section
          - label: "üéØ Focus Keyword"
            name: "focusKeyword"
            widget: "string"
            required: true
            hint: "Primary keyword to optimize for (e.g., 'best web hosting')"
            
          - label: "üîë Secondary Keywords"
            name: "secondaryKeywords"
            widget: "list"
            required: false
            max: 5
            hint: "Up to 5 additional keywords"
            
          # Titles & Description
          - label: "üìù SEO Title"
            name: "seoTitle"
            widget: "string"
            required: false
            hint: "Custom title for search engines (50-60 chars) - Leave empty to use post title"
            pattern: ['.{0,60}', "Max 60 characters"]
            
          - label: "üìÑ Meta Description"
            name: "metaDescription"
            widget: "text"
            required: false
            hint: "Custom meta description (155-160 chars) - Leave empty to use excerpt"
            pattern: ['.{0,160}', "Max 160 characters"]
            
          # Permalink & Canonical
          - label: "üîó Canonical URL"
            name: "canonical"
            widget: "string"
            required: false
            hint: "Full canonical URL (use if content is republished from another site)"
            
          - label: "‚Ü©Ô∏è Redirect"
            name: "redirect"
            widget: "string"
            required: false
            hint: "Redirect this post to another URL (301 redirect)"
            
          # Robots Meta
          - label: "ü§ñ Robots Meta"
            name: "robots"
            widget: "object"
            collapsed: true
            fields:
              - label: "Index"
                name: "index"
                widget: "boolean"
                default: true
                hint: "Allow search engines to index"
                
              - label: "Follow"
                name: "follow"
                widget: "boolean"
                default: true
                hint: "Allow search engines to follow links"
                
              - label: "Max Snippet"
                name: "maxSnippet"
                widget: "select"
                options: ["-1 (Default)", "0 (No snippet)", "100", "200", "300"]
                default: "-1 (Default)"
                required: false
                
              - label: "Max Image Preview"
                name: "maxImagePreview"
                widget: "select"
                options: ["none", "standard", "large"]
                default: "large"
                required: false
          
          # Breadcrumbs
          - label: "üçû Breadcrumbs"
            name: "breadcrumbs"
            widget: "object"
            collapsed: true
            fields:
              - label: "Custom Breadcrumb Title"
                name: "title"
                widget: "string"
                required: false
                hint: "Override title in breadcrumbs"
                
              - label: "Hide in Breadcrumbs"
                name: "hide"
                widget: "boolean"
                default: false
          
          # Advanced SEO
          - label: "‚öôÔ∏è Advanced SEO"
            name: "advanced"
            widget: "object"
            collapsed: true
            fields:
              - label: "Corner Stone Content"
                name: "cornerstone"
                widget: "boolean"
                default: false
                hint: "Mark as pillar/cornerstone content"
                
              - label: "Priority"
                name: "priority"
                widget: "select"
                options: ["0.1", "0.3", "0.5", "0.7", "0.9", "1.0"]
                default: "0.5"
                hint: "Sitemap priority"
                
              - label: "Change Frequency"
                name: "changefreq"
                widget: "select"
                options: ["always", "hourly", "daily", "weekly", "monthly", "yearly", "never"]
                default: "weekly"
                hint: "How often content changes"
      
      # ==========================================
      # SOCIAL MEDIA (Open Graph)
      # ==========================================
      - label: "üì± Facebook & Social Media"
        name: "opengraph"
        widget: "object"
        collapsed: true
        summary: "Social Preview"
        fields:
          - label: "Enable Custom Open Graph"
            name: "enabled"
            widget: "boolean"
            default: false
            hint: "Override default social media settings"
            
          - label: "OG Title"
            name: "title"
            widget: "string"
            required: false
            hint: "Title for Facebook/LinkedIn shares"
            
          - label: "OG Description"
            name: "description"
            widget: "text"
            required: false
            hint: "Description for social shares"
            
          - label: "OG Image"
            name: "image"
            widget: "image"
            required: false
            hint: "Custom image for social sharing (1200x630px)"
            
          - label: "OG Type"
            name: "type"
            widget: "select"
            options: ["article", "website"]
            default: "article"
      
      # ==========================================
      # TWITTER CARD
      # ==========================================
      - label: "üê¶ Twitter Card"
        name: "twitter"
        widget: "object"
        collapsed: true
        fields:
          - label: "Enable Custom Twitter Card"
            name: "enabled"
            widget: "boolean"
            default: false
            
          - label: "Card Type"
            name: "cardType"
            widget: "select"
            options:
              - {label: "Large Image (Recommended)", value: "summary_large_image"}
              - {label: "Summary", value: "summary"}
              - {label: "Player", value: "player"}
            default: "summary_large_image"
            
          - label: "Twitter Title"
            name: "title"
            widget: "string"
            required: false
            
          - label: "Twitter Description"
            name: "description"
            widget: "text"
            required: false
            
          - label: "Twitter Image"
            name: "image"
            widget: "image"
            required: false
            hint: "Custom image (1200x600px recommended)"
            
          - label: "Twitter Handle"
            name: "creator"
            widget: "string"
            required: false
            hint: "@username of content creator"
      
      # ==========================================
      # SCHEMA MARKUP (Rich Snippets)
      # ==========================================
      - label: "üìä Schema Markup (Rich Snippets)"
        name: "schema"
        widget: "object"
        collapsed: true
        summary: "Schema Type: {{fields.type}}"
        fields:
          - label: "Schema Type"
            name: "type"
            widget: "select"
            options:
              - {label: "Article (Default)", value: "Article"}
              - {label: "Blog Posting", value: "BlogPosting"}
              - {label: "News Article", value: "NewsArticle"}
              - {label: "Tech Article", value: "TechArticle"}
              - {label: "How-To", value: "HowTo"}
              - {label: "Review", value: "Review"}
              - {label: "Recipe", value: "Recipe"}
              - {label: "Product", value: "Product"}
              - {label: "FAQ", value: "FAQPage"}
            default: "Article"
            
          - label: "Article Section"
            name: "articleSection"
            widget: "string"
            required: false
            hint: "Category/Section (e.g., Technology, Business)"
            
          - label: "Estimated Reading Time"
            name: "readingTime"
            widget: "number"
            required: false
            value_type: "int"
            hint: "Minutes (auto-calculated if empty)"
            
          - label: "Word Count"
            name: "wordCount"
            widget: "number"
            required: false
            value_type: "int"
            
          # Review Schema (if type = Review)
          - label: "‚≠ê Review Details (If Schema = Review)"
            name: "review"
            widget: "object"
            collapsed: true
            fields:
              - label: "Rating"
                name: "rating"
                widget: "number"
                required: false
                value_type: "float"
                min: 0
                max: 5
                step: 0.1
                hint: "Out of 5 stars"
                
              - label: "Review Item Name"
                name: "itemName"
                widget: "string"
                required: false
                hint: "What is being reviewed"

  # ==========================================
  # PAGES - WITH URL & RANKMATH
  # ==========================================
  - name: "pages"
    label: "üìÑ Pages"
    folder: "src/content/pages"
    create: true
    slug: "{{fields.slug}}"
    preview_path: "{{fields.slug}}"
    fields:
      - {label: "üìå Title", name: "title", widget: "string", required: true}
      
      - label: "üîó URL Slug"
        name: "slug"
        widget: "string"
        required: true
        hint: "e.g., 'about', 'privacy-policy', 'contact'"
        pattern: ['^[a-z0-9]+(?:-[a-z0-9]+)*$', "Lowercase, numbers, hyphens only"]
        
      - {label: "üìÑ Description", name: "description", widget: "text", required: true}
      - {label: "üìÖ Date", name: "publishDate", widget: "datetime"}
      - {label: "üìù Content", name: "body", widget: "markdown", required: true}
      
      # RankMath SEO for Pages
      - label: "üéØ RankMath SEO"
        name: "rankmath"
        widget: "object"
        collapsed: true
        fields:
          - {label: "SEO Title", name: "seoTitle", widget: "string", required: false}
          - {label: "Meta Description", name: "metaDescription", widget: "text", required: false}
          - {label: "Focus Keyword", name: "focusKeyword", widget: "string", required: false}
          - {label: "Canonical URL", name: "canonical", widget: "string", required: false}
          
          - label: "Robots"
            name: "robots"
            widget: "object"
            fields:
              - {label: "Index", name: "index", widget: "boolean", default: true}
              - {label: "Follow", name: "follow", widget: "boolean", default: true}

  # ==========================================
  # AUTHORS
  # ==========================================
  - name: "authors"
    label: "üë§ Authors"
    folder: "src/content/authors"
    create: true
    slug: "{{slug}}"
    identifier_field: "name"
    fields:
      - {label: "Name", name: "name", widget: "string", required: true}
      - {label: "Job Title", name: "title", widget: "string", required: false}
      - {label: "Email", name: "email", widget: "string", required: false}
      - {label: "Bio", name: "bio", widget: "text", required: true}
      - {label: "Avatar", name: "avatar", widget: "image", required: true}
      - {label: "Website", name: "website", widget: "string", required: false}
      
      - label: "Social"
        name: "social"
        widget: "object"
        fields:
          - {label: "Twitter", name: "twitter", widget: "string", required: false}
          - {label: "GitHub", name: "github", widget: "string", required: false}
          - {label: "LinkedIn", name: "linkedin", widget: "string", required: false}

  # ==========================================
  # CATEGORIES
  # ==========================================
  - name: "categories"
    label: "üìÇ Categories"
    folder: "src/content/categories"
    create: true
    slug: "{{slug}}"
    identifier_field: "name"
    fields:
      - {label: "Name", name: "name", widget: "string", required: true}
      - {label: "Description", name: "description", widget: "text", required: false}
      - {label: "Color", name: "color", widget: "color", required: false}
      - {label: "Order", name: "order", widget: "number", required: false}

  # ==========================================
  # SITE SETTINGS
  # ==========================================
  - name: "settings"
    label: "‚öôÔ∏è Settings"
    files:
      - label: "Site Config"
        name: "general"
        file: "src/config/site.json"
        fields:
          - {label: "Site Title", name: "title", widget: "string"}
          - {label: "Site Description", name: "description", widget: "text"}
          - {label: "Site URL", name: "url", widget: "string"}
          
          - label: "Social"
            name: "social"
            widget: "object"
            fields:
              - {label: "Twitter", name: "twitter", widget: "string", required: false}
              - {label: "Facebook", name: "facebook", widget: "string", required: false}
              - {label: "LinkedIn", name: "linkedin", widget: "string", required: false}
          
          - label: "SEO Defaults"
            name: "seoDefaults"
            widget: "object"
            fields:
              - {label: "Default OG Image", name: "ogImage", widget: "image", required: false}
              - {label: "Twitter Site Handle", name: "twitterSite", widget: "string", required: false}
          
          - label: "Analytics"
            name: "analytics"
            widget: "object"
            fields:
              - {label: "Google Analytics", name: "googleAnalytics", widget: "string", required: false}
              - {label: "Google Tag Manager", name: "gtm", widget: "string", required: false}
