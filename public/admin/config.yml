# Editorial Workflow - Draft, Review, Publish
publish_mode: editorial_workflow

backend:
  name: github
  repo: Ganesh239239/techfynews
  branch: main
  base_url: https://techfynews.pages.dev
  auth_endpoint: /api/auth
  commit_messages:
    create: 'Create {{collection}} "{{slug}}"'
    update: 'Update {{collection}} "{{slug}}"'
    delete: 'Delete {{collection}} "{{slug}}"'
    uploadMedia: 'Upload "{{path}}"'
    deleteMedia: 'Delete "{{path}}"'

# Media Configuration with date organization
media_folder: "src/assets/images/{{year}}/{{month}}"
public_folder: "/images/{{year}}/{{month}}"

# Editor Settings
editor:
  preview: true

# Site Configuration
site_url: https://techfynews.pages.dev
display_url: https://techfynews.pages.dev
logo_url: https://techfynews.pages.dev/logo.svg

# Collections
collections:
  # ==================
  # BLOG POSTS
  # ==================
  - name: "blog"
    label: "Blog Posts"
    label_singular: "Blog Post"
    folder: "src/content/blog"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    preview_path: "blog/{{slug}}"
    
    # Sorting and filtering
    sortable_fields: ['pubDate', 'title', 'author']
    sort_direction: 'Descending'
    summary: "{{title}} - {{pubDate | date('YYYY-MM-DD')}} by {{author}}"
    
    # View filters
    view_filters:
      - label: "Drafts"
        field: draft
        pattern: true
      - label: "Published"
        field: draft
        pattern: false
      - label: "Featured Posts"
        field: featured
        pattern: true
    
    # View groups
    view_groups:
      - label: "Year"
        field: pubDate
        pattern: d{4}
      - label: "Author"
        field: author
    
    fields:
      # === Basic Content ===
      - label: "Title"
        name: "title"
        widget: "string"
        required: true
        hint: "Post title (60 characters max for SEO)"
        
      - label: "Description"
        name: "description"
        widget: "text"
        required: true
        hint: "Meta description for SEO (155-160 characters recommended)"
        pattern: ['.{50,160}', "Should be between 50-160 characters"]
        
      - label: "Publish Date"
        name: "pubDate"
        widget: "datetime"
        required: true
        date_format: "YYYY-MM-DD"
        time_format: "HH:mm"
        format: "YYYY-MM-DDTHH:mm:ss.SSSZ"
        
      - label: "Updated Date"
        name: "updatedDate"
        widget: "datetime"
        required: false
        date_format: "YYYY-MM-DD"
        time_format: "HH:mm"
        
      - label: "Author"
        name: "author"
        widget: "relation"
        collection: "authors"
        search_fields: ["name"]
        value_field: "{{slug}}"
        display_fields: ["name"]
        required: true
        
      - label: "Featured Image"
        name: "heroImage"
        widget: "image"
        required: true
        hint: "Recommended size: 1200x630px for best social media sharing"
        media_library:
          config:
            multiple: false
        
      - label: "Image Alt Text"
        name: "heroImageAlt"
        widget: "string"
        required: false
        hint: "Describe the image for accessibility and SEO"
        
      - label: "Featured Post"
        name: "featured"
        widget: "boolean"
        default: false
        hint: "Show this post prominently on homepage"
        
      - label: "Draft"
        name: "draft"
        widget: "boolean"
        default: false
        hint: "Hide from production site"
        
      - label: "Categories"
        name: "categories"
        widget: "list"
        allow_add: true
        required: true
        min: 1
        max: 3
        hint: "Select 1-3 categories"
        
      - label: "Tags"
        name: "tags"
        widget: "list"
        allow_add: true
        required: false
        hint: "Add relevant tags (press Enter after each)"
        
      - label: "Series"
        name: "series"
        widget: "string"
        required: false
        hint: "Group related posts together in a series"
        
      - label: "Table of Contents"
        name: "toc"
        widget: "boolean"
        default: true
        hint: "Auto-generate table of contents from headings"
        
      - label: "Reading Time"
        name: "readingTime"
        widget: "number"
        required: false
        value_type: "int"
        min: 1
        hint: "Minutes to read (auto-calculated if empty)"
        
      # === Main Content ===
      - label: "Body"
        name: "body"
        widget: "markdown"
        required: true
        hint: "Main post content in Markdown format"
        buttons:
          - bold
          - italic
          - code
          - link
          - heading-two
          - heading-three
          - quote
          - bulleted-list
          - numbered-list
        editor_components:
          - image
          - code-block
        
      # === SEO Settings ===
      - label: "üîç SEO Settings"
        name: "seo"
        widget: "object"
        collapsed: true
        summary: "SEO: {{fields.title}}"
        fields:
          - label: "SEO Title"
            name: "title"
            widget: "string"
            required: false
            hint: "Override title for search engines (50-60 chars max)"
            pattern: ['.{0,60}', "Maximum 60 characters"]
            
          - label: "Meta Description"
            name: "description"
            widget: "text"
            required: false
            hint: "Override default description (155-160 characters)"
            pattern: ['.{0,160}', "Maximum 160 characters"]
            
          - label: "Focus Keyword"
            name: "focusKeyword"
            widget: "string"
            required: false
            hint: "Primary SEO keyword for this post"
            
          - label: "Additional Keywords"
            name: "keywords"
            widget: "list"
            allow_add: true
            required: false
            hint: "Secondary keywords for SEO"
            
          - label: "Canonical URL"
            name: "canonical"
            widget: "string"
            required: false
            hint: "Prevent duplicate content (use if reposted from elsewhere)"
            
          - label: "No Index"
            name: "noindex"
            widget: "boolean"
            default: false
            hint: "Hide this page from search engines"
            
          - label: "No Follow"
            name: "nofollow"
            widget: "boolean"
            default: false
            hint: "Don't follow links in this post"
        
      # === Open Graph (Facebook, LinkedIn) ===
      - label: "üì± Social Media (Open Graph)"
        name: "og"
        widget: "object"
        collapsed: true
        summary: "OG: {{fields.title}}"
        fields:
          - label: "OG Title"
            name: "title"
            widget: "string"
            required: false
            hint: "Title for Facebook/LinkedIn shares (leave empty to use post title)"
            
          - label: "OG Description"
            name: "description"
            widget: "text"
            required: false
            hint: "Description for social media shares"
            
          - label: "OG Image"
            name: "image"
            widget: "image"
            required: false
            hint: "Custom image for social sharing (1200x630px ideal)"
            
          - label: "OG Type"
            name: "type"
            widget: "select"
            options: ["article", "website"]
            default: "article"
        
      # === Twitter Card ===
      - label: "üê¶ Twitter Card"
        name: "twitter"
        widget: "object"
        collapsed: true
        summary: "Twitter: {{fields.title}}"
        fields:
          - label: "Twitter Title"
            name: "title"
            widget: "string"
            required: false
            hint: "Custom title for Twitter"
            
          - label: "Twitter Description"
            name: "description"
            widget: "text"
            required: false
            hint: "Custom description for Twitter"
            
          - label: "Twitter Image"
            name: "image"
            widget: "image"
            required: false
            hint: "Custom image for Twitter (2:1 ratio)"
            
          - label: "Card Type"
            name: "card"
            widget: "select"
            options:
              - label: "Summary"
                value: "summary"
              - label: "Large Image"
                value: "summary_large_image"
            default: "summary_large_image"
            
          - label: "Twitter Creator"
            name: "creator"
            widget: "string"
            required: false
            hint: "Twitter handle without @ (e.g., 'username')"
        
      # === Schema.org Structured Data ===
      - label: "üìä Schema Settings (Rich Snippets)"
        name: "schema"
        widget: "object"
        collapsed: true
        fields:
          - label: "Article Type"
            name: "type"
            widget: "select"
            options:
              - label: "Blog Post"
                value: "BlogPosting"
              - label: "News Article"
                value: "NewsArticle"
              - label: "Article"
                value: "Article"
              - label: "Tech Article"
                value: "TechArticle"
              - label: "How-To Guide"
                value: "HowTo"
            default: "BlogPosting"
            hint: "Type of content for Google rich snippets"

  # ==================
  # AUTHORS
  # ==================
  - name: "authors"
    label: "Authors"
    label_singular: "Author"
    folder: "src/content/authors"
    create: true
    slug: "{{slug}}"
    identifier_field: "name"
    summary: "{{name}} - {{title}}"
    fields:
      - {label: "Name", name: "name", widget: "string", required: true}
      - {label: "Job Title", name: "title", widget: "string", required: false, hint: "e.g., Senior Writer, Tech Editor"}
      - {label: "Bio", name: "bio", widget: "text", required: true, hint: "Short author biography"}
      - {label: "Avatar", name: "avatar", widget: "image", required: true, hint: "Square image recommended"}
      - {label: "Email", name: "email", widget: "string", required: false}
      - {label: "Website", name: "website", widget: "string", required: false}
      
      - label: "Social Links"
        name: "social"
        widget: "object"
        collapsed: false
        fields:
          - {label: "Twitter", name: "twitter", widget: "string", required: false, hint: "Username without @"}
          - {label: "GitHub", name: "github", widget: "string", required: false, hint: "Username only"}
          - {label: "LinkedIn", name: "linkedin", widget: "string", required: false, hint: "Full LinkedIn URL"}
          - {label: "Instagram", name: "instagram", widget: "string", required: false}

  # ==================
  # CATEGORIES
  # ==================
  - name: "categories"
    label: "Categories"
    label_singular: "Category"
    folder: "src/content/categories"
    create: true
    slug: "{{slug}}"
    identifier_field: "name"
    fields:
      - {label: "Name", name: "name", widget: "string", required: true}
      - {label: "Description", name: "description", widget: "text", required: true}
      - {label: "Icon", name: "icon", widget: "image", required: false, hint: "Category icon (optional)"}
      - {label: "Color", name: "color", widget: "color", required: false, hint: "Brand color for this category"}
      - {label: "Featured", name: "featured", widget: "boolean", default: false}

  # ==================
  # PAGES
  # ==================
  - name: "pages"
    label: "Pages"
    label_singular: "Page"
    folder: "src/content/pages"
    create: true
    slug: "{{slug}}"
    fields:
      - {label: "Title", name: "title", widget: "string", required: true}
      - {label: "Description", name: "description", widget: "text", required: true}
      - {label: "Publish Date", name: "pubDate", widget: "datetime", required: true}
      - {label: "Body", name: "body", widget: "markdown", required: true}
      
      - label: "SEO"
        name: "seo"
        widget: "object"
        collapsed: true
        fields:
          - {label: "SEO Title", name: "title", widget: "string", required: false}
          - {label: "Meta Description", name: "description", widget: "text", required: false}
          - {label: "No Index", name: "noindex", widget: "boolean", default: false}

  # ==================
  # SITE SETTINGS
  # ==================
  - name: "settings"
    label: "‚öôÔ∏è Site Settings"
    files:
      - label: "General Settings"
        name: "general"
        file: "src/config/site.json"
        fields:
          - {label: "Site Title", name: "title", widget: "string"}
          - {label: "Site Description", name: "description", widget: "text"}
          - {label: "Site URL", name: "url", widget: "string", hint: "https://techfynews.pages.dev"}
          - {label: "Logo", name: "logo", widget: "image"}
          - {label: "Favicon", name: "favicon", widget: "image"}
          - {label: "Posts Per Page", name: "postsPerPage", widget: "number", default: 10, value_type: "int", min: 1, max: 50}
          
          - label: "Social Media Links"
            name: "social"
            widget: "object"
            fields:
              - {label: "Twitter", name: "twitter", widget: "string", required: false}
              - {label: "Facebook", name: "facebook", widget: "string", required: false}
              - {label: "LinkedIn", name: "linkedin", widget: "string", required: false}
              - {label: "GitHub", name: "github", widget: "string", required: false}
              - {label: "YouTube", name: "youtube", widget: "string", required: false}
          
          - label: "Analytics"
            name: "analytics"
            widget: "object"
            collapsed: true
            fields:
              - {label: "Google Analytics ID", name: "googleAnalytics", widget: "string", required: false, hint: "G-XXXXXXXXXX"}
              - {label: "Google Tag Manager", name: "gtm", widget: "string", required: false}
