# ==========================================
# DECAP CMS - FULL FEATURED CONFIGURATION
# ==========================================

# Editorial Workflow (Draft â†’ Review â†’ Publish)
publish_mode: editorial_workflow

# Backend Configuration
backend:
  name: github
  repo: Ganesh239239/techfynews
  branch: main
  base_url: https://techfynews.pages.dev
  auth_endpoint: /api/auth
  commit_messages:
    create: 'Create {{collection}} "{{slug}}"'
    update: 'Update {{collection}} "{{slug}}"'
    delete: 'Delete {{collection}} "{{slug}}"'
    uploadMedia: 'Upload "{{path}}"'
    deleteMedia: 'Delete "{{path}}"'
    openAuthoring: '{{message}}'

# Media Configuration with auto-organization
media_folder: "src/assets/images/{{year}}/{{month}}"
public_folder: "/images/{{year}}/{{month}}"

# Media Library
media_library:
  name: uploadcare
  config:
    publicKey: demopublickey
    multiple: false
    tabs: 'file url'

# Editor Settings
editor:
  preview: true

# Site Configuration
site_url: https://techfynews.pages.dev
display_url: https://techfynews.pages.dev
logo_url: https://techfynews.pages.dev/logo.svg

# Localization
locale: 'en'

# Slug Configuration
slug:
  encoding: "ascii"
  clean_accents: true
  sanitize_replacement: "-"

# Collections
collections:
  # ==================
  # BLOG POSTS
  # ==================
  - name: "blog"
    label: "ğŸ“ Blog Posts"
    label_singular: "Blog Post"
    description: "Manage your blog posts with full SEO control"
    folder: "src/content/blog"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    preview_path: "blog/{{slug}}"
    
    # Sorting and filtering
    sortable_fields: ['pubDate', 'title', 'author', 'featured']
    sort_direction: 'Descending'
    summary: "{{title}} â€¢ {{pubDate | date('MMM DD, YYYY')}} â€¢ {{author}}"
    
    # View filters
    view_filters:
      - label: "ğŸ“ Drafts"
        field: draft
        pattern: true
      - label: "âœ… Published"
        field: draft
        pattern: false
      - label: "â­ Featured"
        field: featured
        pattern: true
      - label: "ğŸ”’ Private"
        field: seo.noindex
        pattern: true
    
    # View groups
    view_groups:
      - label: "ğŸ“… Year"
        field: pubDate
        pattern: d{4}
      - label: "ğŸ‘¤ Author"
        field: author
      - label: "ğŸ“‚ Category"
        field: categories
    
    fields:
      # === BASIC CONTENT ===
      - label: "ğŸ“Œ Title"
        name: "title"
        widget: "string"
        required: true
        hint: "Post title (50-60 characters for SEO)"
        pattern: ['.{10,100}', "Title should be 10-100 characters"]
        
      - label: "ğŸ“„ Description"
        name: "description"
        widget: "text"
        required: true
        hint: "Meta description for SEO (155-160 characters)"
        pattern: ['.{50,160}', "Must be 50-160 characters for optimal SEO"]
        
      - label: "ğŸ“… Publish Date"
        name: "pubDate"
        widget: "datetime"
        required: true
        default: ""
        date_format: "YYYY-MM-DD"
        time_format: "HH:mm"
        format: "YYYY-MM-DDTHH:mm:ss.SSSZ"
        picker_utc: false
        
      - label: "ğŸ”„ Updated Date"
        name: "updatedDate"
        widget: "datetime"
        required: false
        date_format: "YYYY-MM-DD"
        time_format: "HH:mm"
        hint: "Leave empty for auto-update"
        
      - label: "âœï¸ Author"
        name: "author"
        widget: "relation"
        collection: "authors"
        search_fields: ["name", "title"]
        value_field: "{{slug}}"
        display_fields: ["name", "title"]
        required: true
        hint: "Select the post author"
        
      - label: "ğŸ–¼ï¸ Featured Image"
        name: "heroImage"
        widget: "image"
        required: true
        hint: "Recommended: 1200x630px for social media sharing"
        media_library:
          config:
            multiple: false
            max_file_size: 5120000
        
      - label: "ğŸ·ï¸ Image Alt Text"
        name: "heroImageAlt"
        widget: "string"
        required: false
        hint: "Describe the image (accessibility & SEO)"
        
      - label: "â­ Featured Post"
        name: "featured"
        widget: "boolean"
        default: false
        hint: "Display prominently on homepage"
        
      - label: "ğŸ“ Draft Status"
        name: "draft"
        widget: "boolean"
        default: false
        hint: "Hide from production (unpublished)"
        
      - label: "ğŸ“‚ Categories"
        name: "categories"
        widget: "list"
        allow_add: true
        required: true
        min: 1
        max: 3
        hint: "Add 1-3 categories (press Enter after each)"
        field:
          label: Category
          name: category
          widget: string
        
      - label: "ğŸ·ï¸ Tags"
        name: "tags"
        widget: "list"
        allow_add: true
        required: false
        hint: "Add relevant tags for discoverability"
        field:
          label: Tag
          name: tag
          widget: string
        
      - label: "ğŸ“š Series"
        name: "series"
        widget: "string"
        required: false
        hint: "Group related posts (e.g., 'Astro Tutorial')"
        
      - label: "ğŸ“‘ Table of Contents"
        name: "toc"
        widget: "boolean"
        default: true
        hint: "Auto-generate TOC from headings"
        
      - label: "â±ï¸ Reading Time"
        name: "readingTime"
        widget: "number"
        required: false
        value_type: "int"
        min: 1
        max: 120
        hint: "Minutes (auto-calculated if empty)"
        
      - label: "ğŸ’¬ Enable Comments"
        name: "comments"
        widget: "boolean"
        default: true
        hint: "Allow reader comments"
        
      # === MAIN CONTENT ===
      - label: "ğŸ“ Post Content"
        name: "body"
        widget: "markdown"
        required: true
        hint: "Write your post content using Markdown"
        modes: ['raw', 'rich_text']
        
      # === SEO SETTINGS ===
      - label: "ğŸ” SEO Settings"
        name: "seo"
        widget: "object"
        collapsed: true
        summary: "SEO: {{fields.title}} ({{fields.focusKeyword}})"
        hint: "Advanced SEO configuration"
        fields:
          - label: "SEO Title"
            name: "title"
            widget: "string"
            required: false
            hint: "Override default title (50-60 chars)"
            pattern: ['.{0,60}', "Max 60 characters"]
            
          - label: "Meta Description"
            name: "description"
            widget: "text"
            required: false
            hint: "Override default description (155-160 chars)"
            pattern: ['.{0,160}', "Max 160 characters"]
            
          - label: "Focus Keyword"
            name: "focusKeyword"
            widget: "string"
            required: false
            hint: "Primary keyword (e.g., 'web development')"
            
          - label: "Additional Keywords"
            name: "keywords"
            widget: "list"
            allow_add: true
            required: false
            hint: "Secondary keywords for SEO"
            
          - label: "Canonical URL"
            name: "canonical"
            widget: "string"
            required: false
            hint: "Prevent duplicate content (if republished)"
            
          - label: "ğŸš« No Index"
            name: "noindex"
            widget: "boolean"
            default: false
            hint: "Hide from search engines"
            
          - label: "ğŸ”— No Follow"
            name: "nofollow"
            widget: "boolean"
            default: false
            hint: "Don't follow links in post"
            
          - label: "Meta Robots"
            name: "robots"
            widget: "select"
            options:
              - {label: "Index, Follow", value: "index, follow"}
              - {label: "No Index, Follow", value: "noindex, follow"}
              - {label: "Index, No Follow", value: "index, nofollow"}
              - {label: "No Index, No Follow", value: "noindex, nofollow"}
            default: "index, follow"
            required: false
        
      # === OPEN GRAPH (Facebook, LinkedIn) ===
      - label: "ğŸ“± Social Media (Open Graph)"
        name: "og"
        widget: "object"
        collapsed: true
        summary: "OG: {{fields.title}}"
        hint: "Facebook, LinkedIn, Discord sharing"
        fields:
          - label: "OG Title"
            name: "title"
            widget: "string"
            required: false
            hint: "Custom title for social media"
            
          - label: "OG Description"
            name: "description"
            widget: "text"
            required: false
            hint: "Custom description for social shares"
            
          - label: "OG Image"
            name: "image"
            widget: "image"
            required: false
            hint: "1200x630px recommended"
            
          - label: "OG Type"
            name: "type"
            widget: "select"
            options: ["article", "website", "blog"]
            default: "article"
            
          - label: "OG Locale"
            name: "locale"
            widget: "string"
            default: "en_US"
            required: false
        
      # === TWITTER CARD ===
      - label: "ğŸ¦ Twitter Card"
        name: "twitter"
        widget: "object"
        collapsed: true
        summary: "Twitter: {{fields.card}}"
        fields:
          - label: "Twitter Title"
            name: "title"
            widget: "string"
            required: false
            
          - label: "Twitter Description"
            name: "description"
            widget: "text"
            required: false
            
          - label: "Twitter Image"
            name: "image"
            widget: "image"
            required: false
            hint: "2:1 ratio (1200x600px)"
            
          - label: "Card Type"
            name: "card"
            widget: "select"
            options:
              - {label: "Summary", value: "summary"}
              - {label: "Large Image", value: "summary_large_image"}
              - {label: "Player", value: "player"}
            default: "summary_large_image"
            
          - label: "Twitter Site"
            name: "site"
            widget: "string"
            required: false
            hint: "@username of website"
            
          - label: "Twitter Creator"
            name: "creator"
            widget: "string"
            required: false
            hint: "@username of content creator"
        
      # === SCHEMA.ORG ===
      - label: "ğŸ“Š Schema (Structured Data)"
        name: "schema"
        widget: "object"
        collapsed: true
        summary: "Schema: {{fields.type}}"
        hint: "Google Rich Snippets"
        fields:
          - label: "Article Type"
            name: "type"
            widget: "select"
            options:
              - {label: "Blog Post", value: "BlogPosting"}
              - {label: "News Article", value: "NewsArticle"}
              - {label: "Article", value: "Article"}
              - {label: "Tech Article", value: "TechArticle"}
              - {label: "How-To", value: "HowTo"}
              - {label: "Review", value: "Review"}
            default: "BlogPosting"
            
          - label: "Article Section"
            name: "articleSection"
            widget: "string"
            required: false
            hint: "e.g., Technology, Business"
            
          - label: "Word Count"
            name: "wordCount"
            widget: "number"
            required: false
            hint: "Auto-calculated if empty"
      
      # === ADVANCED ===
      - label: "âš™ï¸ Advanced Options"
        name: "advanced"
        widget: "object"
        collapsed: true
        fields:
          - label: "Custom CSS Classes"
            name: "cssClass"
            widget: "string"
            required: false
            
          - label: "Custom Template"
            name: "layout"
            widget: "select"
            options: ["default", "minimal", "wide"]
            default: "default"
            required: false
            
          - label: "Redirect From"
            name: "redirectFrom"
            widget: "list"
            required: false
            hint: "Old URLs to redirect from"
            
          - label: "Related Posts"
            name: "relatedPosts"
            widget: "relation"
            collection: "blog"
            search_fields: ["title"]
            value_field: "{{slug}}"
            display_fields: ["title"]
            multiple: true
            required: false
            max: 5

  # ==================
  # AUTHORS
  # ==================
  - name: "authors"
    label: "ğŸ‘¤ Authors"
    label_singular: "Author"
    folder: "src/content/authors"
    create: true
    slug: "{{slug}}"
    identifier_field: "name"
    summary: "{{name}} - {{title}}"
    fields:
      - {label: "ğŸ‘¤ Name", name: "name", widget: "string", required: true}
      - {label: "ğŸ’¼ Job Title", name: "title", widget: "string", required: false}
      - {label: "ğŸ“§ Email", name: "email", widget: "string", required: false, pattern: ['^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}$', "Must be valid email"]}
      - {label: "ğŸ“ Bio", name: "bio", widget: "text", required: true, hint: "Short author biography (150 chars)"}
      - {label: "ğŸ–¼ï¸ Avatar", name: "avatar", widget: "image", required: true, hint: "Square image (400x400px)"}
      - {label: "ğŸŒ Website", name: "website", widget: "string", required: false}
      - {label: "ğŸ“ Location", name: "location", widget: "string", required: false}
      
      - label: "ğŸ”— Social Links"
        name: "social"
        widget: "object"
        collapsed: false
        fields:
          - {label: "Twitter/X", name: "twitter", widget: "string", required: false, hint: "Username without @"}
          - {label: "GitHub", name: "github", widget: "string", required: false}
          - {label: "LinkedIn", name: "linkedin", widget: "string", required: false}
          - {label: "Instagram", name: "instagram", widget: "string", required: false}
          - {label: "YouTube", name: "youtube", widget: "string", required: false}
          - {label: "Facebook", name: "facebook", widget: "string", required: false}

  # ==================
  # CATEGORIES
  # ==================
  - name: "categories"
    label: "ğŸ“‚ Categories"
    label_singular: "Category"
    folder: "src/content/categories"
    create: true
    slug: "{{slug}}"
    identifier_field: "name"
    fields:
      - {label: "ğŸ“› Name", name: "name", widget: "string", required: true}
      - {label: "ğŸ“ Description", name: "description", widget: "text", required: true}
      - {label: "ğŸ¨ Icon", name: "icon", widget: "image", required: false}
      - {label: "ğŸ¨ Color", name: "color", widget: "color", required: false, allowInput: true}
      - {label: "â­ Featured", name: "featured", widget: "boolean", default: false}
      - {label: "ğŸ”¢ Order", name: "order", widget: "number", value_type: "int", required: false}

  # ==================
  # PAGES
  # ==================
  - name: "pages"
    label: "ğŸ“„ Pages"
    label_singular: "Page"
    folder: "src/content/pages"
    create: true
    slug: "{{slug}}"
    fields:
      - {label: "ğŸ“Œ Title", name: "title", widget: "string", required: true}
      - {label: "ğŸ“„ Description", name: "description", widget: "text", required: true}
      - {label: "ğŸ“… Publish Date", name: "pubDate", widget: "datetime", required: true}
      - {label: "ğŸ“ Content", name: "body", widget: "markdown", required: true}
      
      - label: "ğŸ” SEO"
        name: "seo"
        widget: "object"
        collapsed: true
        fields:
          - {label: "SEO Title", name: "title", widget: "string", required: false}
          - {label: "Meta Description", name: "description", widget: "text", required: false}
          - {label: "No Index", name: "noindex", widget: "boolean", default: false}

  # ==================
  # SITE SETTINGS
  # ==================
  - name: "settings"
    label: "âš™ï¸ Site Settings"
    files:
      - label: "ğŸŒ General Settings"
        name: "general"
        file: "src/config/site.json"
        fields:
          - {label: "Site Title", name: "title", widget: "string"}
          - {label: "Site Description", name: "description", widget: "text"}
          - {label: "Site URL", name: "url", widget: "string"}
          - {label: "Logo", name: "logo", widget: "image"}
          - {label: "Favicon", name: "favicon", widget: "image"}
          - {label: "Language", name: "lang", widget: "string", default: "en"}
          - {label: "Posts Per Page", name: "postsPerPage", widget: "number", default: 12, value_type: "int"}
          
          - label: "Social Media"
            name: "social"
            widget: "object"
            fields:
              - {label: "Twitter", name: "twitter", widget: "string", required: false}
              - {label: "Facebook", name: "facebook", widget: "string", required: false}
              - {label: "LinkedIn", name: "linkedin", widget: "string", required: false}
              - {label: "GitHub", name: "github", widget: "string", required: false}
              - {label: "YouTube", name: "youtube", widget: "string", required: false}
              - {label: "Instagram", name: "instagram", widget: "string", required: false}
          
          - label: "SEO Defaults"
            name: "seoDefaults"
            widget: "object"
            fields:
              - {label: "Default OG Image", name: "ogImage", widget: "image"}
              - {label: "Twitter Handle", name: "twitterHandle", widget: "string"}
          
          - label: "Analytics"
            name: "analytics"
            widget: "object"
            fields:
              - {label: "Google Analytics", name: "googleAnalytics", widget: "string", required: false}
              - {label: "Google Tag Manager", name: "gtm", widget: "string", required: false}
              - {label: "Facebook Pixel", name: "facebookPixel", widget: "string", required: false}
      
      - label: "ğŸ¨ Theme Settings"
        name: "theme"
        file: "src/config/theme.json"
        fields:
          - label: "Primary Color"
            name: "primaryColor"
            widget: "color"
            allowInput: true
          - label: "Secondary Color"
            name: "secondaryColor"
            widget: "color"
            allowInput: true
          - label: "Font Family"
            name: "fontFamily"
            widget: "select"
            options: ["Inter", "Roboto", "Poppins", "Open Sans"]
